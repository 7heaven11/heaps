<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=Edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
    <title>heaps.js by sillylogger</title>
    <!--[if lt IE 9]>
      <script src='//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js'></script>
    <![endif]-->
    <link href='stylesheets/styles.css' rel='stylesheet'>
    <link href='stylesheets/pygment_trac.css' rel='stylesheet'>
    <link href='stylesheets/heaps.css' rel='stylesheet'>
  </head>
  <body class='wrapper'>
    <header>
      <h1>heaps.js</h1>
      <p class='view'>
        <a href='https://github.com/sillylogger/heaps'>
          View the Project on GitHub
          <small>sillylogger/heaps</small>
        </a>
      </p>
      <ul>
        <li>
          <a href='https://github.com/sillylogger/heaps/zipball/master'>
            Download
            <strong>ZIP File</strong>
          </a>
        </li>
        <li>
          <a href='https://github.com/sillylogger/heaps/tarball/master'>
            Download
            <strong>TAR Ball</strong>
          </a>
        </li>
        <li>
          <a href='https://github.com/sillylogger/heaps'>
            View on
            <strong>GitHub</strong>
          </a>
        </li>
      </ul>
    </header>
    <section>
      <p>This is a jQuery plugin to layout a bunch of elements into a heap or any pattern can describe with a function.</p>
      <pre><code>$('#images').heapify('a.thumbnail')</code></pre>
      <p>does this:</p>
      <ul class='thumbnails' id='heap'>
        <li>
          <a class='thumbnail size0' href='images/belgium-brussels.jpg'>
            <img src='images/belgium-brussels.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size1' href='images/cambodia-penom-phen-s-21.jpg'>
            <img src='images/cambodia-penom-phen-s-21.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size2' href='images/cambodia-siem-reap-angkor-wat.jpg'>
            <img src='images/cambodia-siem-reap-angkor-wat.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size3' href='images/cambodia-siem-reap-field.jpg'>
            <img src='images/cambodia-siem-reap-field.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size4' href='images/cambodia-siem-reap-market.jpg'>
            <img src='images/cambodia-siem-reap-market.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size5' href='images/ireland-cork.jpg'>
            <img src='images/ireland-cork.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size6' href='images/ireland-howth.jpg'>
            <img src='images/ireland-howth.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size7' href='images/malaysia-kuala-lumpur-islamic-museum.jpg'>
            <img src='images/malaysia-kuala-lumpur-islamic-museum.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size8' href='images/malaysia-putrajaya.jpg'>
            <img src='images/malaysia-putrajaya.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size9' href='images/netherlands-amsterdam.jpg'>
            <img src='images/netherlands-amsterdam.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size10' href='images/singapore-marina-barrage.jpg'>
            <img src='images/singapore-marina-barrage.jpg'>
          </a>
        </li>
        <li>
          <a class='thumbnail size11' href='images/usa-san-antonio.jpg'>
            <img src='images/usa-san-antonio.jpg'>
          </a>
        </li>
      </ul>
      <p>That heapify function iterates over the selected elements checking ever possible location within their parent.  This is a super expensive operation so I'm working on optimizations.  For the time being, the iterations use a default step of 10.  This means all the elements being layed out need to have dimentions that are multiples of 10 pixels or there will be gaps... sry.  This can be mitigated by wrapping elements and constraining their dimentions.</p>
    </section>
    <footer>
      <p>
        This project is maintained by
        <a href='https://github.com/sillylogger'>sillylogger</a>
      </p>
      <p>
        <small>
          Hosted on GitHub Pages &mdash; Theme by
          <a href='https://github.com/orderedlist'>orderedlist</a>
        </small>
      </p>
    </footer>
    <script src='javascripts/jquery.js'></script>
    <script src='javascripts/jquery.heaps.js'></script>
    <script>
      //<![CDATA[
        $(window).load(function(){
          var step = 10;
        
          // normalize all images so fit on a 10x10 grid
          $('#heap .thumbnail').each(function(i, el) {
            var $el = $(el);
            var height = $el.height();
            $el.css({ height: height - (height % step) + 'px' });
          });
        
          var start = new Date().getTime()
          $('#heap').heapify('li', { step: step });
          var finish = new Date().getTime()
          console.debug("Elapsed time is " + (finish - start).toString() + "ms");
        });
      //]]>
    </script>
  </body>
</html>
